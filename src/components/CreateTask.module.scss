@import url('https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap');


// 1. PALETA Y VARIABLES BÁSICAS
$white:       #FFFFFF;
$zinc-50:     #F9FAFB;
$zinc-100:    #F4F4F5;
$zinc-200:    #E4E4E7;
$zinc-300:    #D4D4D8;
$zinc-500:    #71717A;
$zinc-800:    #27272A;
$zinc-900:    #18181B;
$zinc-950:    #09090B;
$black:       #000000;
$text-light:  #1A1A1A;
$text-dark:   #D1D1D1;
$primary:     #164C22;          // green‑800
$red-500:     #EF4444;

// 2. MIXINS NEUMORFISTAS (evita repetir)
@mixin neu-surface($bg: #F1F5F9, $intensity: 8, $radius: 18px) {
  background: $bg;
  border-radius: $radius;
  box-shadow:
    -#{$intensity}px -#{$intensity}px #{2*$intensity}px lighten($bg, 6%),
     #{$intensity}px  #{$intensity}px #{2*$intensity}px rgba(0, 0, 0, .08);
}

@mixin neu-inset($bg: #F1F5F9, $intensity: 4, $radius: 6px) {
  background: $bg;
  border-radius: $radius;
  box-shadow:
    inset -#{$intensity}px -#{$intensity}px #{2*$intensity}px lighten($bg, 4%),
    inset  #{$intensity}px  #{$intensity}px #{2*$intensity}px rgba(0,0,0,.05);
}

// 3. DARK MODE GLOBAL (inversión de fondos / sombras)
:global(body.dark) {
  background: $zinc-900;
  color: $text-dark;
  
  .container,
  .header,
  .section {
    @include neu-surface($zinc-900, 8);
  }

  .input,
  .dropdownTrigger,
  .currencyInput {
    @include neu-inset($zinc-900, 4);
    color: $text-dark;
    border: none;
  }

  .slideCard {
    @include neu-surface($zinc-900, 6, 20px);
    color: $text-dark;

    &.selected {
      background: $zinc-800;
      box-shadow:
        -6px -6px 12px rgba(255,255,255,.03),
         6px  6px 12px rgba(0,0,0,.4);
    }
  }

  .dropdownItems,
  .dropdown {
    background: $zinc-900;
    border: 1px solid rgba(255,255,255,.05);
  }
}

// 4. CONTENEDOR PRINCIPAL
.container {
  @include neu-surface();
  width: 100%;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 40px;
  font-family: 'Inter Tight', sans-serif;
  position: relative;

  &.saving {
    .section { opacity: .5; }
  }
}

// 5. LOADER OVERLAY
.loaderOverlay {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(255,255,255,.8);
  z-index: 120000;

  :global(body.dark) & { background: rgba(0,0,0,.6); }
}

.loader {
  border: 4px solid $zinc-200;
  border-top: 4px solid $black;
  border-radius: 50%;
  width: 40px; height: 40px;
  animation: spin 1s linear infinite;
}

@keyframes spin { 0% {transform: rotate(0deg);} 100% {transform: rotate(360deg);} }

// 6. HEADER
.header {
  @include neu-surface();
  padding: 20px 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.headerTitle { color: $zinc-950; font-size: 24px; font-weight: 700; }
.toggleButton { background:none; border:none; cursor:pointer; padding:0; }

// 7. CONTENIDO / SECTIONS
.content {
  padding: 15px 40px;
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.section {
  @include neu-inset();
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding: 24px;
}

.sectionTitle  { color: $primary; font-size: 18px; font-weight: 700; }
.sectionSubtitle{ color: $zinc-800; font-size: 11px; font-weight: 400; }

// 8. SLIDESHOW Y TARJETAS
.slideshow { display:flex; align-items:center; gap:20px; }
.slideButton {
  background:none; border:none; cursor:pointer; padding:0; flex-shrink:0;
  img { width:24px; height:52px; }
  &:disabled { opacity:.5; cursor:not-allowed; }
}
.slidesContainer { flex:1; overflow:hidden; padding:20px 0; }
.slides { display:flex; gap:20px; transition: transform .3s ease; user-select:none; }
.slideCard {
  @include neu-surface($white, 6, 20px);
  flex: 0 0 150px;
  padding: 16px 12px;
  display:flex; flex-direction:column; align-items:center; gap:11px;
  cursor:pointer;
  transition: box-shadow .2s ease, transform .2s ease;

  &:hover { transform: translateY(-4px); }

  &.selected {
    background: $black;
    color: $white;
    box-shadow:
      -4px -4px 10px rgba(255,255,255,.06),
       4px  4px 10px rgba(0,0,0,.45);
  }

  .clientImage, .userImage { width:36px; height:36px; border-radius:50%; }
  .clientName, .userName { color:$text-light; font-size:12px; font-weight:700; text-align:center; }
  .userRole { color:$text-light; font-size:12px; font-weight:500; text-align:center; }

  :global(body.dark) & {
    .clientName, .userName, .userRole { color:$text-dark; }
  }
}

// 9. INPUTS Y DROPDOWNS
.formGroup { display:flex; flex-direction:column; gap:6px; position:relative; }
.label { color:$black; font-size:14px; font-weight:700; display:flex; gap:5px; align-items:center; }
.error { color:$red-500; font-size:12px; font-weight:400; }

.input {
  width:100%; height:40px; padding:8px 12px;
  @include neu-inset();
  color:$zinc-950; font-size:12px; font-weight:500; font-family:'Inter Tight',sans-serif;
  border:none;
  &::placeholder { color:$zinc-500; }
  &.errorInput { border:1px solid $red-500; }
  :global(body.dark) & { color:$text-dark; }
}

.dropdownContainer { position:relative; }
.dropdownTrigger {
  @include neu-inset();
  width:100%; height:40px; padding:8px 12px; display:flex; align-items:center; justify-content:space-between;
  cursor:pointer; span { color:$zinc-950; font-size:12px; font-weight:500; }
  :global(body.dark) & span { color:$text-dark; }
}

.dropdownItems, .dropdown {
  position:absolute; top:100%; left:0; width:100%; max-height:200px; overflow-y:auto;
  background:$white; border:1px solid $zinc-200; border-radius:12px;
  box-shadow: 0 4px 12px rgba(0,0,0,.12);
  z-index:150000;

  .dropdownItem {
    padding:12px; cursor:pointer; font-size:12px; font-weight:500; color:$zinc-950;
    transition: background .2s ease;
    &:hover { background:$zinc-100; }
    &.disabled { opacity:.5; cursor:not-allowed; }
    :global(body.dark) & { color:$text-dark; &:hover { background:$zinc-800; } }
  }
}

// 10. CURRENCY INPUT WRAPPER
.currencyInput {
  @include neu-inset();
  display:flex; align-items:center; overflow:hidden; height:40px;
  .currencySymbol { padding:8px 12px; background:$zinc-100; font-size:12px; font-weight:500; color:$zinc-950; }
  .input { border:none; border-radius:0; flex:1; background:transparent; }
  :global(body.dark) & .currencySymbol { background:$zinc-800; color:$text-dark; }
}

// 11. ADVANCED TOGGLE & CONTENT
.advancedToggle {
  background:none; border:none; color:$primary; font-size:18px; font-weight:700; display:flex; justify-content:space-between; align-items:center; cursor:pointer;
}
.advancedContent { display:flex; flex-direction:column; gap:15px; overflow:hidden; height:0; opacity:0; }

// 12. SUBMIT SECTION
.submitSection { display:flex; flex-direction:column; align-items:center; gap:20px; margin-top:40px; }
.submitText { text-align:center; color:$black; font-size:14px; font-weight:600; }
.submitButton {
  width:100%; padding:16px; border:none; border-radius:18px; font-size:14px; font-weight:700; cursor:pointer; color:$white; background:$black;
  transition: transform .2s ease, box-shadow .2s ease;
  box-shadow: -4px -4px 8px #ffffff, 4px 4px 8px rgba(0,0,0,.15);
  &:hover { transform:translateY(-2px); }
  &:disabled { opacity:.5; cursor:not-allowed; }
  :global(body.dark) & { background:$zinc-800; }
}

// 13. MEDIA QUERIES (mantengo tu lógica)
@media (max-width:1024px) {
  .slides .slideCard { flex: 0 0 120px; }
}
@media (max-width:767px) {
  .slides .slideCard { flex: 0 0 100px; }
  .content { padding: 15px 20px; }
  .header { padding: 20px; }
}
