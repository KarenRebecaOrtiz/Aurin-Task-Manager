// src/app/globals.scss
// Global styles without variable imports to avoid conflicts

@import "tailwindcss";

/* Shimmer Button Animations */
@keyframes shimmer-slide {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes spin-around {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@layer utilities {
  .animate-shimmer-slide {
    animation: shimmer-slide var(--speed, 3s) linear infinite;
  }

  .animate-spin-around {
    animation: spin-around var(--speed, 3s) linear infinite;
  }
}

* {
  box-sizing: border-box;
}

// Smooth scrolling global styles
html {
  scroll-behavior: smooth;
}

body.no-scroll {
  overflow: hidden;
  position: fixed;
  width: 100%;
}

// Dark mode global overrides para asegurar que se apliquen
body.dark,
html.dark,
[data-theme="dark"] {
  background: #18181b !important;
  color: #e4e4e7 !important;
  
  // Forzar estilos de tabla en dark mode
  .TasksTable_container__q_pIb {
    background: #18181b !important;
    border: none !important;
    box-shadow: none !important;
  }
  
  .Table_table__dP6Xg {
    background: #18181b !important;
    box-shadow: none !important;
  }
  
  .Table_row__ah8hJ {
    background: #18181b !important;
    border: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    box-shadow: none !important;
  }
  
  .Table_row__ah8hJ:hover {
    background: #27272a !important;
  }
}

/* app/globals.css */

:root {
  --primary: #4CAF50;
  --primary-foreground: #FFFFFF;
  --background: #FFFFFF;
  --foreground: #121212;
  --border: #D1D5DB;
  --radius: 0.5rem;
}

[data-theme='dark'] {
  --background: #1F2937;
  --foreground: #F9FAFB;
  --border: #4B5563;
  --accent: #374151;
  --primary-foreground: #FFFFFF;
  --secondary: #374151;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.dark {
  --background: #000000;
  --text-primary: #FFFFFF;
  --text-secondary: #A1A1AA;
  --button-bg: transparent;
  --button-bg-active: #333333;
  --button-bg-hover: #444444;
  --header-bg: #ffffff;
}

.grecaptcha-badge {
  display: none !important;
}

body {
  margin: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 16px;
  line-height: 1.5;
  background: var(--background);
  color: var(--text-primary);
  position: relative;
  z-index: 0;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  scroll-behavior: smooth;

  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
    background-image: url('https://storage.googleapis.com/aurin-plattform/assets/noiseTexture.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0.7; 
    backdrop-filter: blur(20px) saturate(160%);
    -webkit-backdrop-filter: blur(20px) saturate(160%);
    transition: opacity 0.4s ease-in-out;
    pointer-events: none;
  }

  &.dark::before {
    display: none; // eliminamos la imagen en modo oscuro
  }
}

.vignetteTop,
.vignetteBottom {
  position: fixed;
  left: 0;
  width: 100%;
  height: 100px;
  pointer-events: none;
  z-index: 2000;
}

// Redondear favicons
link[rel="icon"],
link[rel="apple-touch-icon"],
link[rel="shortcut icon"] {
  border-radius: 50% !important;
}

// También aplicar a imágenes de favicon en el DOM
img[src*="favicon"],
img[src*="apple-touch-icon"],
img[src*="android-chrome"] {
  border-radius: 50% !important;
  overflow: hidden !important;
}

// Estilos para favicon en la pestaña del navegador
::selection {
  background: rgba(211, 223, 72, 0.3);
}

// Asegurar que los favicons se vean redondeados en todos los contextos
.favicon,
.icon,
[class*="favicon"],
[class*="icon"] {
  border-radius: 50% !important;
  overflow: hidden !important;
}

.vignetteTop {
  top: 0;
  box-shadow:
    inset 0px -5px 8px rgba(0, 0, 0, 0.05),
    inset 0px -14px 14px rgba(0, 0, 0, 0.04),
    inset 0px -32px 19px rgba(0, 0, 0, 0.02),
    inset 0px -56px 22px rgba(0, 0, 0, 0.01),
    inset 0px -88px 26px rgba(0, 0, 0, 0.00);
}

.vignetteBottom {
  bottom: 0;
  box-shadow:
    inset 0px 8px 12px rgba(0, 0, 0, 0.15),
    inset 0px 20px 25px rgba(0, 0, 0, 0.12),
    inset 0px 40px 35px rgba(0, 0, 0, 0.08),
    inset 0px 70px 45px rgba(0, 0, 0, 0.05),
    inset 0px 110px 55px rgba(0, 0, 0, 0.03),
    inset 0px 160px 65px rgba(0, 0, 0, 0.02),
    inset 0px 220px 75px rgba(0, 0, 0, 0.01);
}

/* From lenis.css (simplified) */
[data-lenis-root] {
  overflow: hidden;
}

[data-lenis-prevent] {
  overscroll-behavior: contain;
}

.swiperPagination {
  :global {
    .swiper-pagination-bullets {
      bottom: 0 !important;
    }
    .swiper-pagination-bullet {
      background: #859ba8;
      opacity: 0.5;
    }
    .swiper-pagination-bullet-active {
      background: #178d00;
      opacity: 1;
    }
  }
}

@media (max-width: 767px) {
  input,
  textarea,
  select {
    font-size: 16px !important;
  }
}

// Hide vignette effects in dark mode
body.dark,
html.dark,
[data-theme="dark"] {
  .vignetteTop,
  .vignetteBottom {
    display: none !important;
  }
}

// Global SVG dark mode inversion
:global(body.dark) {
  img[src*=".svg"] {
    filter: brightness(0) invert(1);
  }
  
  // Exclude specific SVGs that shouldn't be inverted (like logos, colored icons)
  img[src*="gemini.svg"],
  img[src*="vercel.svg"],
  img[src*="next.svg"],
  img[src*="aurin.jpg"],
  img[src*="empty-image.png"],
  img[src*="emptyStateImage.png"],
  img[src*="08_nothing_not_found.png"],
  img[src*="bgNoisy.png"],
  img[src*="HomeGif.gif"],
  img[src*="trash-2.svg"] {
    filter: none;
  }
}